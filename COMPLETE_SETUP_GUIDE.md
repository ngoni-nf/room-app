# Room App - Complete Setup Guide

## Table of Contents
1. [Project Overview](#project-overview)
2. [MVP Feature List](#mvp-feature-list)
3. [Complete Feature List](#complete-feature-list)
4. [Firebase Setup](#firebase-setup)
5. [Flutter Project Setup](#flutter-project-setup)
6. [Code Comments and Improvements](#code-comments-and-improvements)
7. [Implementation Instructions](#implementation-instructions)

---

## Project Overview

Room is a production-ready mobile application platform for salon, hairdresser, and barber services in South Africa. The app connects three key stakeholders:
- **Clients**: Book services and track service providers
- **Service Providers (Staff)**: Receive jobs, navigate to locations, update status
- **Administrators**: Manage operations, dispatch staff, view analytics

### Tech Stack
- **Mobile**: Flutter (Dart)
- **Backend**: Firebase (Firestore, Authentication, Cloud Functions)
- **Admin Panel**: Flutter Web / React.js
- **Maps**: Google Maps API
- **Payments**: PayStack / Yoco

### Design System
- **Colors**: Midnight Black (#000000), Taxi Yellow (#FFD700), Crisp White (#FFFFFF), Slate Grey (#333333)
- **Typography**: Bold Sans-Serif for headings (Montserrat/Poppins), Clean Sans-Serif for body (Roboto/Inter)

---

## MVP Feature List (Phase 1 - Launch)

### Client App
- [ ] Phone number authentication (OTP)
- [ ] Service catalog with pricing
- [ ] Real-time booking with availability checking
- [ ] Location pinning with Google Maps
- [ ] Gate code and security notes field (SA-specific)
- [ ] Payment integration (Card + Cash)
- [ ] Booking status tracking
- [ ] Push notifications

### Staff App
- [ ] Job queue with today's appointments
- [ ] Job status updates (Start Trip, Arrived, Completed)
- [ ] Navigation integration (Waze/Google Maps)
- [ ] Online/Offline toggle
- [ ] Offline mode support

### Admin Panel
- [ ] Manual and auto-dispatch of jobs
- [ ] Master calendar view
- [ ] Staff management
- [ ] Financial reporting
- [ ] Real-time job tracking

---

## Complete Feature List (Phase 2+ - Future)

### Client App - Phase 2
- [ ] Social login (Google/Apple)
- [ ] Repeat/Quick booking
- [ ] Favorite staff list
- [ ] Saved multiple addresses (Home/Work/Partner)
- [ ] Real-time driver location on map
- [ ] In-app chat with stylist
- [ ] Rating and reviews
- [ ] Loyalty points
- [ ] Payment split/tips

### Staff App - Phase 2
- [ ] Photo evidence of work
- [ ] Earnings dashboard
- [ ] Shift scheduler
- [ ] Performance metrics
- [ ] In-app messaging

### Admin Dashboard - Phase 2
- [ ] Advanced heatmaps (demand prediction)
- [ ] Inventory management
- [ ] Auto-payroll calculations
- [ ] Marketing tools
- [ ] Customer analytics
- [ ] Staff performance reports

---

## Firebase Setup

### Step 1: Create Firebase Project
```bash
1. Go to https://console.firebase.google.com/
2. Click "Add Project"
3. Name it: room-app-sa
4. Skip Google Analytics (for simplicity)
5. Click Create Project
```

### Step 2: Enable Authentication
```bash
1. Go to Build > Authentication
2. Click "Get Started"
3. Select "Phone" and turn ON
4. Add test numbers: +27 123456789 with code 123456
5. Save
```

### Step 3: Enable Firestore Database
```bash
1. Go to Build > Firestore Database
2. Click "Create Database"
3. Location: europe-west1 (closest to SA)
4. Rules: Start in Production Mode
5. Click Enable
```

### Step 4: Add Security Rules
Copy the entire security rules from FIRESTORE_SECURITY_RULES.txt

### Step 5: Database Collections Setup
Create these collections in Firestore:

**Collections:**
- `users` - Client profiles
- `staff` - Service provider profiles
- `services` - Service catalog
- `bookings` - Booking records
- `payments` - Payment transactions

---

## Flutter Project Setup

### Prerequisites
```bash
# Install Flutter (if not already installed)
# https://flutter.dev/docs/get-started/install

flutter --version
```

### Step 1: Create Project
```bash
flutter create room_app
cd room_app
```

### Step 2: Add Dependencies
Edit `pubspec.yaml`:
```yaml
dependencies:
  flutter:
    sdk: flutter
  firebase_core: ^2.24.0
  firebase_auth: ^4.10.0
  cloud_firestore: ^4.13.0
  google_maps_flutter: ^2.5.0
  location: ^5.0.0
  provider: ^6.0.0
  google_fonts: ^6.1.0
  http: ^1.1.0
  
dev_dependencies:
  flutter_test:
    sdk: flutter
  flutter_linter: ^2.0.0
```

```bash
flutter pub get
```

### Step 3: Configure FlutterFire
```bash
dart pub global activate flutterfire_cli
flutterfire configure
```

### Step 4: Project Structure
```
lib/
├── main.dart                 # App entry point
├── firebase_options.dart     # Auto-generated by FlutterFire
├── config/
│   ├── theme.dart           # App theme and colors
│   └── constants.dart       # App constants
├── models/
│   ├── booking_model.dart   # Booking data structure
│   ├── user_model.dart      # User data structure
│   ├── staff_model.dart     # Staff data structure
│   └── service_model.dart   # Service data structure
├── services/
│   ├── auth_service.dart    # Firebase authentication
│   ├── database_service.dart # Firestore operations
│   ├── location_service.dart # Google Maps & Location
│   └── payment_service.dart # Payment processing
├── screens/
│   ├── client/
│   │   ├── home_screen.dart
│   │   ├── booking_screen.dart
│   │   ├── location_screen.dart
│   │   ├── payment_screen.dart
│   │   └── tracking_screen.dart
│   ├── staff/
│   │   ├── job_queue_screen.dart
│   │   ├── job_detail_screen.dart
│   │   └── earnings_screen.dart
│   └── admin/
│       ├── dashboard_screen.dart
│       ├── dispatch_board.dart
│       └── analytics_screen.dart
├── widgets/
│   ├── service_card.dart
│   ├── booking_card.dart
│   └── status_indicator.dart
└── utils/
    ├── validators.dart
    └── helpers.dart
```

---

## Code Comments and Improvements

### Comment Standards
All code files should include:

```dart
/// [FILE_NAME]
/// Purpose: Brief description
/// Author: Team Name
/// Date: Creation date
/// Last Modified: Last modification date
///
/// Key Features:
/// - Feature 1
/// - Feature 2
```

### Code Improvements
1. **Error Handling**: Try-catch blocks for all Firebase operations
2. **Logging**: Add analytics logging for user actions
3. **Performance**: Implement pagination for large lists
4. **Security**: Validate all user inputs
5. **Accessibility**: Add semantic labels for screen readers
6. **Testing**: Unit tests for models and services

---

## Implementation Instructions

### Phase 1: Setup (Week 1)
- [ ] Create GitHub repository
- [ ] Set up Firebase project
- [ ] Create Flutter project structure
- [ ] Set up CI/CD pipeline

### Phase 2: Authentication (Week 2)
- [ ] Implement phone OTP login
- [ ] Create user registration flow
- [ ] Add password reset (if needed)
- [ ] Implement session management

### Phase 3: Client App (Weeks 3-5)
- [ ] Build home/service selection screen
- [ ] Implement booking flow
- [ ] Add location picker with gate codes
- [ ] Integrate payment processing
- [ ] Add tracking screen

### Phase 4: Staff App (Weeks 6-7)
- [ ] Create job queue interface
- [ ] Implement status update buttons
- [ ] Add navigation integration
- [ ] Build earnings dashboard

### Phase 5: Admin Panel (Weeks 8-9)
- [ ] Build dispatch board
- [ ] Create calendar view
- [ ] Implement staff management
- [ ] Add analytics dashboard

### Phase 6: Testing & Launch (Weeks 10-12)
- [ ] Unit testing
- [ ] Integration testing
- [ ] User acceptance testing
- [ ] App store submission
- [ ] Launch marketing

---

## Next Steps

1. Review this document completely
2. Set up Firebase project
3. Create Flutter project
4. Review individual code files:
   - models/
   - services/
   - screens/
5. Start with authentication implementation
6. Build incrementally
7. Test thoroughly before each phase

---

## Support & Documentation

- [Flutter Documentation](https://flutter.dev/docs)
- [Firebase Documentation](https://firebase.google.com/docs)
- [Google Maps API](https://developers.google.com/maps/documentation)
- [Dart Language Guide](https://dart.dev/guides)

## Last Updated: January 13, 2026
